DROP TABLE SERMSG;
DROP SEQUENCE SERMSG_SEQ;
CREATE TABLE SERMSG(
    MSG_NO VARCHAR2(10) NOT NULL,
    BRANCH_NO VARCHAR2(20) NOT NULL,
    MEM_NO VARCHAR2(10) NOT NULL,
    EMP_NO VARCHAR2(10) NOT NULL,
    MSG_DETAIL VARCHAR2(3000),
    MSG_TIME DATE DEFAULT(sysdate),
    MSG_ISREAD VARCHAR2(10),
    CONSTRAINT SERMSG_FK FOREIGN KEY (BRANCH_NO) REFERENCES BRANCH(BRANCH_NO),
    CONSTRAINT SERMSG_FK1 FOREIGN KEY (EMP_NO) REFERENCES EMPLOYEE(EMP_NO),
    CONSTRAINT SERMSG_FK2 FOREIGN KEY (MEM_NO) REFERENCES MEMBER(MEM_NO),
    CONSTRAINT SERMSG_PK PRIMARY KEY(MSG_NO));
    alter session set nls_date_format = 'dd/mm/yyyy hh24:mi:ss';
  
CREATE SEQUENCE SERMSG_SEQ
INCREMENT BY 1
START WITH 1
NOMAXVALUE
NOCYCLE
NOCACHE;

INSERT INTO SERMSG(MSG_NO,BRANCH_NO,MEM_NO,EMP_NO,MSG_DETAIL,MSG_ISREAD) VALUES(to_char(SERMSG_SEQ.NEXTVAL),
'0001','M000001','E000000001','©ÔÄÑ¦nÃø¦Y','msg0');