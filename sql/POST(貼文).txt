DROP TABLE POST;
DROP SEQUENCE POST_seq;
CREATE TABLE POST(
  POST_NO    VARCHAR2(15) NOT NULL, 
  MEM_NO     VARCHAR2(7)  NOT NULL, 
  CUSTOM_NO  VARCHAR2(15)   NOT NULL,  
  POST_CONT  CLOB, 
  POST_EVA  number(1), 
  POST_PHOTO  BLOB, 
  POST_TIME TIMESTAMP ,
  CONSTRAINT POST_PK PRIMARY KEY (POST_NO),
  CONSTRAINT POST_FK1 FOREIGN KEY (CUSTOM_NO) REFERENCES CUSTOMMEALS (CUSTOM_NO),
  CONSTRAINT POST_FK2 FOREIGN KEY (MEM_NO) REFERENCES MEMBER (MEM_NO)
);
  
CREATE SEQUENCE POST_seq
INCREMENT BY 1
START WITH 1
NOMAXVALUE
NOCYCLE
NOCACHE;

INSERT INTO POST(POST_NO,MEM_NO,CUSTOM_NO,POST_CONT,
POST_EVA,POST_PHOTO,POST_TIME) 
VALUES(to_char(sysdate,'yyyymmdd')||'-'||LPAD(to_char(POST_seq.NEXTVAL), 6, '0'),
'M000001',
'C0000000001',
'柑橘奶油塩味拉麵夏至',
5,
NULL,
SYSDATE);
COMMIT;
